{"ast":null,"code":"import firebase from 'firebase/app';\nimport { notification } from 'antd';\nimport 'firebase/auth';\nimport 'firebase/database';\nimport 'firebase/storage';\nconst firebaseConfig = {\n  apiKey: 'AIzaSyBOWfLl_EoXMyKy9-gKbiHVHKC7UCixAe8',\n  authDomain: 'ventus-e8164.firebaseapp.com',\n  databaseURL: 'https://ventus-e8164.firebaseio.com',\n  projectId: 'ventus-e8164',\n  storageBucket: 'ventus-e8164.appspot.com',\n  messagingSenderId: '639759208106',\n  appId: \"1:639759208106:web:e2962e6f13a62633cc0ad3\",\n  measurementId: \"G-YEW5P44ZVY\"\n};\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\nconst firebaseAuth = firebase.auth();\nexport default firebaseApp;\nexport async function login() {\n  const provider = new firebase.auth.GoogleAuthProvider();\n  provider.addScope('profile');\n  provider.addScope('email');\n  return firebaseAuth.signInWithPopup(provider).then(() => true).catch(error => notification.warning({\n    message: error.code,\n    description: error.message\n  }));\n}\nexport async function currentAccount() {\n  let userLoaded = false;\n\n  function getCurrentUser(auth) {\n    return new Promise((resolve, reject) => {\n      if (userLoaded) {\n        resolve(firebaseAuth.currentUser);\n      }\n\n      const unsubscribe = auth.onAuthStateChanged(user => {\n        console.log(user.refreshToken);\n        userLoaded = true;\n        unsubscribe();\n        resolve(user);\n      }, reject);\n    });\n  }\n\n  return getCurrentUser(firebaseAuth);\n}\nexport async function logout() {\n  return firebaseAuth.signOut().then(() => true);\n}","map":{"version":3,"sources":["/Users/harmbruins/Documents/Ventus Projects/testprofessionalfrontend/src/services/firebase.auth.service.js"],"names":["firebase","notification","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firebaseApp","initializeApp","firebaseAuth","auth","login","provider","GoogleAuthProvider","addScope","signInWithPopup","then","catch","error","warning","message","code","description","currentAccount","userLoaded","getCurrentUser","Promise","resolve","reject","currentUser","unsubscribe","onAuthStateChanged","user","console","log","refreshToken","logout","signOut"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,cAArB;AACA,SAASC,YAAT,QAA6B,MAA7B;AACA,OAAO,eAAP;AACA,OAAO,mBAAP;AACA,OAAO,kBAAP;AAEA,MAAMC,cAAc,GAAG;AACrBC,EAAAA,MAAM,EAAE,yCADa;AAErBC,EAAAA,UAAU,EAAE,8BAFS;AAGrBC,EAAAA,WAAW,EAAE,qCAHQ;AAIrBC,EAAAA,SAAS,EAAE,cAJU;AAKrBC,EAAAA,aAAa,EAAE,0BALM;AAMrBC,EAAAA,iBAAiB,EAAE,cANE;AAOrBC,EAAAA,KAAK,EAAE,2CAPc;AAQrBC,EAAAA,aAAa,EAAE;AARM,CAAvB;AAWA,MAAMC,WAAW,GAAGX,QAAQ,CAACY,aAAT,CAAuBV,cAAvB,CAApB;AACA,MAAMW,YAAY,GAAGb,QAAQ,CAACc,IAAT,EAArB;AACA,eAAeH,WAAf;AAEA,OAAO,eAAeI,KAAf,GAAuB;AAC5B,QAAMC,QAAQ,GAAG,IAAIhB,QAAQ,CAACc,IAAT,CAAcG,kBAAlB,EAAjB;AACAD,EAAAA,QAAQ,CAACE,QAAT,CAAkB,SAAlB;AACAF,EAAAA,QAAQ,CAACE,QAAT,CAAkB,OAAlB;AAEA,SAAOL,YAAY,CAACM,eAAb,CAA6BH,QAA7B,EACJI,IADI,CACC,MAAM,IADP,EAEJC,KAFI,CAEEC,KAAK,IACVrB,YAAY,CAACsB,OAAb,CAAqB;AACnBC,IAAAA,OAAO,EAAEF,KAAK,CAACG,IADI;AAEnBC,IAAAA,WAAW,EAAEJ,KAAK,CAACE;AAFA,GAArB,CAHG,CAAP;AAOD;AAED,OAAO,eAAeG,cAAf,GAAgC;AACrC,MAAIC,UAAU,GAAG,KAAjB;;AACA,WAASC,cAAT,CAAwBf,IAAxB,EAA8B;AAC5B,WAAO,IAAIgB,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtC,UAAIJ,UAAJ,EAAgB;AACdG,QAAAA,OAAO,CAAClB,YAAY,CAACoB,WAAd,CAAP;AACD;;AACD,YAAMC,WAAW,GAAGpB,IAAI,CAACqB,kBAAL,CAAwBC,IAAI,IAAI;AAClDC,QAAAA,OAAO,CAACC,GAAR,CAAYF,IAAI,CAACG,YAAjB;AACAX,QAAAA,UAAU,GAAG,IAAb;AACAM,QAAAA,WAAW;AACXH,QAAAA,OAAO,CAACK,IAAD,CAAP;AACD,OALmB,EAKjBJ,MALiB,CAApB;AAMD,KAVM,CAAP;AAWD;;AACD,SAAOH,cAAc,CAAChB,YAAD,CAArB;AACD;AAED,OAAO,eAAe2B,MAAf,GAAwB;AAC7B,SAAO3B,YAAY,CAChB4B,OADI,GAEJrB,IAFI,CAEC,MAAM,IAFP,CAAP;AAGD","sourcesContent":["import firebase from 'firebase/app'\nimport { notification } from 'antd'\nimport 'firebase/auth'\nimport 'firebase/database'\nimport 'firebase/storage'\n\nconst firebaseConfig = {\n  apiKey: 'AIzaSyBOWfLl_EoXMyKy9-gKbiHVHKC7UCixAe8',\n  authDomain: 'ventus-e8164.firebaseapp.com',\n  databaseURL: 'https://ventus-e8164.firebaseio.com',\n  projectId: 'ventus-e8164',\n  storageBucket: 'ventus-e8164.appspot.com',\n  messagingSenderId: '639759208106',\n  appId: \"1:639759208106:web:e2962e6f13a62633cc0ad3\",\n  measurementId: \"G-YEW5P44ZVY\"\n}\n\nconst firebaseApp = firebase.initializeApp(firebaseConfig)\nconst firebaseAuth = firebase.auth()\nexport default firebaseApp\n\nexport async function login() {\n  const provider = new firebase.auth.GoogleAuthProvider();\n  provider.addScope('profile');\n  provider.addScope('email');\n\n  return firebaseAuth.signInWithPopup(provider)\n    .then(() => true)\n    .catch(error =>\n      notification.warning({\n        message: error.code,\n        description: error.message,\n      }))\n}\n\nexport async function currentAccount() {\n  let userLoaded = false\n  function getCurrentUser(auth) {\n    return new Promise((resolve, reject) => {\n      if (userLoaded) {\n        resolve(firebaseAuth.currentUser)\n      }\n      const unsubscribe = auth.onAuthStateChanged(user => {\n        console.log(user.refreshToken);\n        userLoaded = true\n        unsubscribe()\n        resolve(user)\n      }, reject)\n    })\n  }\n  return getCurrentUser(firebaseAuth)\n}\n\nexport async function logout() {\n  return firebaseAuth\n    .signOut()\n    .then(() => true)\n}\n"]},"metadata":{},"sourceType":"module"}